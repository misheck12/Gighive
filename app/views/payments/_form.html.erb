<%= form_with(model: [task, payment], local: true, html: { class: 'needs-validation', novalidate: true, multipart: true }) do |form| %>
  <% if payment.errors.any? %>
    <div id="error_explanation" class="alert alert-danger" role="alert">
      <h2 class="alert-heading"><%= pluralize(payment.errors.count, "error") %> prohibited this payment from being saved:</h2>
      <ul>
        <% payment.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form.hidden_field :user_id, value: current_user.id %>

  <div class="container mt-4">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <h1 class="text-center mb-4" style="color: #2A2A2A;">Submit Payment</h1>

        <div class="form-group mb-3">
          <%= form.label :network, class: 'form-label' %>
          <%= form.text_field :network, class: 'form-control', placeholder: 'MTN or Airtel Mobile money' %>
        </div>

        <div class="form-group mb-3">
          <%= form.label :transaction_id, class: 'form-label' %>
          <%= form.text_field :transaction_id, class: 'form-control', placeholder: 'Enter your transaction ID' %>
        </div>

        <div class="form-group mb-3">
          <%= form.label :payment_proof, "Upload Payment Screenshot", class: 'form-label' %>
          <%= form.file_field :payment_proof, class: 'form-control' %>
        </div>

        <div class="actions">
          <%= form.submit "Submit Payment", class: 'btn btn-primary btn-block', style: 'background-color: #FF6F61; border-color: #FF6F61;' %>
        </div>
      </div>
    </div>
  </div>
<% end %>

<style>
  .form-group {
    margin-bottom: 1rem;
  }

  .form-label {
    font-weight: bold;
    color: #2A2A2A; /* Charcoal for form labels */
  }

  #error_explanation {
    background-color: #FFD700; /* Gold for error background */
    border: 1px solid #2A2A2A; /* Charcoal border */
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 0.25rem;
  }
</style>
